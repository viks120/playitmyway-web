<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#667eea" />
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <!-- SEO Meta Tags -->
    <title>
      Math Puzzle Game for Kids - Free Math Challenges | Play It My Way
    </title>
    <meta
      name="description"
      content="Free math puzzle game for kids ages 10+. Solve equations, patterns, and logic puzzles. Educational math challenges for children."
    />
    <meta
      name="keywords"
      content="math games, math puzzles, educational games, arithmetic games, logic puzzles, pattern games, kids math, free math games, mathematical challenges, brain games"
    />
    <meta name="author" content="Play It My Way" />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph Meta Tags -->
    <meta
      property="og:title"
      content="Math Puzzle Game for Kids - Free Math Challenges"
    />
    <meta
      property="og:description"
      content="Fun math puzzle game for children. Solve equations, patterns, and logic challenges."
    />
    <meta property="og:type" content="game" />
    <meta
      property="og:url"
      content="https://playitmyway.com/games/math-puzzle"
    />
    <meta
      property="og:image"
      content="https://playitmyway.com/images/math-puzzle.jpg"
    />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Math Puzzle Game for Kids" />
    <meta
      name="twitter:description"
      content="Free math puzzle game for children. Solve equations and logic challenges."
    />
    <meta
      name="twitter:image"
      content="https://playitmyway.com/images/math-puzzle.jpg"
    />

    <!-- Additional SEO Meta Tags -->
    <meta name="language" content="English" />
    <meta name="classification" content="Educational Math Game" />
    <link rel="canonical" href="https://playitmyway.com/games/math-puzzle" />

    <style>
      * {
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      body {
        font-family: "Comic Sans MS", "Arial Rounded MT Bold", "Arial",
          sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        margin: 0;
        padding: 10px;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        overflow-x: hidden;
        font-size: 18px;
        line-height: 1.6;
      }

      .header {
        text-align: center;
        color: white;
        margin-bottom: 25px;
      }

      .header h1 {
        font-size: clamp(2em, 7vw, 2.5em);
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        margin-bottom: 10px;
      }

      .header p {
        font-size: clamp(1.2em, 4vw, 1.4em);
        font-weight: 500;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
      }

      .stats {
        display: flex;
        gap: 25px;
        margin-bottom: 25px;
        color: white;
        font-size: clamp(1.1em, 4vw, 1.3em);
        font-weight: bold;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
      }

      .mode-selector {
        margin-bottom: 25px;
        text-align: center;
      }

      .mode-selector h3 {
        font-size: clamp(1.3em, 5vw, 1.6em);
        color: white;
        font-weight: bold;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        margin-bottom: 15px;
      }

      .mode-btn {
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        font-size: clamp(1em, 4vw, 1.2em);
        font-weight: bold;
        cursor: pointer;
        margin: 0 12px;
        transition: transform 0.2s;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
      }

      .mode-btn.active {
        background: linear-gradient(45deg, #4ecdc4, #44a08d);
        transform: scale(1.05);
      }

      .mode-btn:hover {
        transform: scale(1.05);
      }

      .game-container {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        max-width: 600px;
        width: 100%;
      }

      .puzzle-area {
        text-align: center;
        margin-bottom: 30px;
      }

      .puzzle-question {
        font-size: clamp(1.4em, 5vw, 1.8em);
        color: #333;
        font-weight: bold;
        margin-bottom: 20px;
        text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
      }

      .equation-display {
        font-size: clamp(1.6em, 6vw, 2em);
        color: #333;
        font-weight: bold;
        margin: 20px 0;
        padding: 15px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 10px;
        border: 2px solid #4ecdc4;
      }

      .pattern-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin: 20px auto;
        max-width: 300px;
      }

      .pattern-cell {
        width: 60px;
        height: 60px;
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        color: white;
        border: 2px solid #333;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5em;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .pattern-cell:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }

      .pattern-cell.empty {
        background: rgba(255, 255, 255, 0.3);
        border: 2px dashed #999;
        color: #333;
      }

      .answer-input {
        width: 80px;
        height: 50px;
        font-size: 1.5em;
        text-align: center;
        border: 3px solid #4ecdc4;
        border-radius: 10px;
        margin: 0 10px;
        font-weight: bold;
      }

      .answer-options {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
        margin: 20px 0;
      }

      .answer-btn {
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        color: white;
        border: none;
        padding: 15px;
        border-radius: 10px;
        font-size: clamp(1.1em, 4vw, 1.3em);
        font-weight: bold;
        cursor: pointer;
        transition: transform 0.2s;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
      }

      .answer-btn:hover {
        transform: scale(1.05);
      }

      .controls {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 20px;
      }

      .btn {
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        font-size: clamp(1em, 4vw, 1.2em);
        font-weight: bold;
        cursor: pointer;
        margin: 0 12px;
        transition: transform 0.2s;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
      }

      .btn:hover {
        transform: scale(1.05);
      }

      .feedback {
        text-align: center;
        font-size: clamp(1.2em, 5vw, 1.5em);
        font-weight: bold;
        margin: 20px 0;
        padding: 15px;
        border-radius: 12px;
        display: none;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
      }

      .feedback.correct {
        background: #a8e6cf;
        color: #2d5a3d;
      }

      .feedback.incorrect {
        background: #ff6b6b;
        color: white;
      }

      .back-link {
        position: absolute;
        top: 20px;
        left: 20px;
        color: white;
        text-decoration: none;
        font-size: clamp(0.9em, 3vw, 1em);
        background: rgba(255, 255, 255, 0.2);
        padding: 8px 12px;
        border-radius: 20px;
        transition: background 0.3s;
      }

      .back-link:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      /* Mobile-specific improvements */
      @media (max-width: 768px) {
        body {
          padding-top: 60px; /* Space for back link */
        }

        .game-container {
          padding: 15px;
          margin: 0 5px;
        }

        .pattern-cell {
          width: 50px;
          height: 50px;
          font-size: 1.3em;
        }

        .answer-input {
          width: 60px;
          height: 40px;
          font-size: 1.3em;
        }

        .controls {
          flex-direction: column;
          align-items: center;
          gap: 10px;
        }

        .btn {
          margin: 5px 0;
        }

        .mode-selector {
          margin-bottom: 20px;
        }

        .mode-btn {
          display: block;
          margin: 8px auto;
          width: 200px;
          max-width: 90%;
        }
      }

      @media (max-width: 480px) {
        body {
          padding-top: 50px; /* Less space on smaller screens */
        }

        .pattern-cell {
          width: 45px;
          height: 45px;
          font-size: 1.2em;
        }

        .answer-input {
          width: 50px;
          height: 35px;
          font-size: 1.2em;
        }

        .answer-options {
          grid-template-columns: repeat(2, 1fr);
        }

        .mode-btn {
          width: 180px;
          font-size: clamp(0.9em, 3.5vw, 1.1em);
          padding: 10px 20px;
        }

        .stats {
          flex-direction: column;
          gap: 10px;
          align-items: center;
        }
      }

      /* Prevent text selection on mobile */
      .pattern-cell,
      .mode-btn,
      .answer-btn,
      .btn {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        touch-action: manipulation;
      }
    </style>
  </head>
  <body>
    <a href="../../" class="back-link">← Back to Games</a>

    <div class="header">
      <h1>🧮 Math Puzzle</h1>
      <p>Solve equations, patterns, and logic puzzles!</p>
    </div>

    <div class="stats">
      <div>Score: <span id="score">0</span></div>
      <div>Level: <span id="level">1</span></div>
      <div>Puzzles Solved: <span id="solved">0</span></div>
    </div>

    <div class="mode-selector">
      <h3>Choose Puzzle Type:</h3>
      <button class="mode-btn active" onclick="setMode('equations')">
        Equations
      </button>
      <button class="mode-btn" onclick="setMode('patterns')">Patterns</button>
      <button class="mode-btn" onclick="setMode('logic')">Logic</button>
    </div>

    <div class="game-container">
      <div class="puzzle-area">
        <div class="puzzle-question" id="question">Solve the equation</div>
        <div class="equation-display" id="equation">5 + ? = 12</div>
        <div id="puzzleContent">
          <!-- Puzzle content will be generated here -->
        </div>
      </div>

      <div class="feedback" id="feedback"></div>

      <div class="controls">
        <button class="btn" onclick="checkAnswer()">Check Answer</button>
        <button class="btn" onclick="getHint()">Get Hint</button>
        <button class="btn" onclick="newPuzzle()">New Puzzle</button>
      </div>
    </div>

    <script>
      let currentMode = "equations";
      let currentPuzzle = {};
      let score = 0;
      let level = 1;
      let puzzlesSolved = 0;
      let hintsUsed = 0;

      const puzzleDatabase = {
        equations: [
          {
            question: "What number makes this equation true?",
            equation: "5 + ? = 12",
            answer: 7,
            hint: "Think: 5 plus what equals 12?",
          },
          {
            question: "Find the missing number",
            equation: "? × 4 = 20",
            answer: 5,
            hint: "What number times 4 equals 20?",
          },
          {
            question: "Solve for the unknown",
            equation: "15 - ? = 8",
            answer: 7,
            hint: "15 minus what equals 8?",
          },
          {
            question: "What's the missing value?",
            equation: "? ÷ 3 = 6",
            answer: 18,
            hint: "What number divided by 3 equals 6?",
          },
          {
            question: "Complete the equation",
            equation: "9 + ? = 16",
            answer: 7,
            hint: "9 plus what equals 16?",
          },
          {
            question: "Find the unknown",
            equation: "? × 6 = 30",
            answer: 5,
            hint: "What number times 6 equals 30?",
          },
          {
            question: "Solve this equation",
            equation: "20 - ? = 13",
            answer: 7,
            hint: "20 minus what equals 13?",
          },
          {
            question: "What's missing?",
            equation: "? ÷ 4 = 5",
            answer: 20,
            hint: "What number divided by 4 equals 5?",
          },
        ],
        patterns: [
          {
            question: "What comes next in this pattern?",
            pattern: [2, 4, 6, 8, "?"],
            answer: 10,
            hint: "Add 2 each time",
          },
          {
            question: "Find the missing number",
            pattern: [1, 3, 5, 7, "?"],
            answer: 9,
            hint: "Add 2 each time",
          },
          {
            question: "Complete the sequence",
            pattern: [5, 10, 15, 20, "?"],
            answer: 25,
            hint: "Add 5 each time",
          },
          {
            question: "What's next?",
            pattern: [3, 6, 9, 12, "?"],
            answer: 15,
            hint: "Add 3 each time",
          },
          {
            question: "Find the pattern",
            pattern: [1, 2, 4, 8, "?"],
            answer: 16,
            hint: "Multiply by 2 each time",
          },
          {
            question: "Complete this sequence",
            pattern: [2, 6, 18, 54, "?"],
            answer: 162,
            hint: "Multiply by 3 each time",
          },
          {
            question: "What comes next?",
            pattern: [10, 8, 6, 4, "?"],
            answer: 2,
            hint: "Subtract 2 each time",
          },
          {
            question: "Find the missing number",
            pattern: [100, 50, 25, 12.5, "?"],
            answer: 6.25,
            hint: "Divide by 2 each time",
          },
        ],
        logic: [
          {
            question:
              "If 3 cats catch 3 mice in 3 minutes, how many cats catch 6 mice in 6 minutes?",
            answer: 3,
            hint: "Think about the relationship between cats, mice, and time",
          },
          {
            question:
              "A number is doubled and then 5 is added. The result is 17. What was the original number?",
            answer: 6,
            hint: "Work backwards: subtract 5, then divide by 2",
          },
          {
            question:
              "If today is Monday and tomorrow is Tuesday, what day was yesterday?",
            answer: "Sunday",
            hint: "Think about the days of the week",
          },
          {
            question: "If 2 + 2 = 4 and 3 + 3 = 6, what does 4 + 4 equal?",
            answer: 8,
            hint: "Look for the pattern in the addition",
          },
          {
            question:
              "A rectangle has a length of 8 and width of 4. What is its area?",
            answer: 32,
            hint: "Area = length × width",
          },
          {
            question:
              "If a triangle has angles of 60°, 60°, and 60°, what type of triangle is it?",
            answer: "Equilateral",
            hint: "All angles are equal",
          },
          {
            question: "What is half of half of 20?",
            answer: 5,
            hint: "Half of 20 is 10, half of 10 is 5",
          },
          {
            question:
              "If 5 people can paint 5 walls in 5 hours, how many people can paint 10 walls in 10 hours?",
            answer: 5,
            hint: "Think about the relationship between people, walls, and time",
          },
        ],
      };

      function setMode(mode) {
        currentMode = mode;

        // Update active button
        document.querySelectorAll(".mode-btn").forEach((btn) => {
          btn.classList.remove("active");
        });
        event.target.classList.add("active");

        // Generate new puzzle
        newPuzzle();
      }

      function generateEquationPuzzle() {
        const puzzle =
          puzzleDatabase.equations[
            Math.floor(Math.random() * puzzleDatabase.equations.length)
          ];
        document.getElementById("question").textContent = puzzle.question;
        document.getElementById("equation").textContent = puzzle.equation;

        // Create answer input
        const puzzleContent = document.getElementById("puzzleContent");
        puzzleContent.innerHTML = `
                <input type="number" class="answer-input" id="answerInput" placeholder="?" min="0" max="100">
            `;

        return puzzle;
      }

      function generatePatternPuzzle() {
        const puzzle =
          puzzleDatabase.patterns[
            Math.floor(Math.random() * puzzleDatabase.patterns.length)
          ];
        document.getElementById("question").textContent = puzzle.question;
        document.getElementById("equation").style.display = "none";

        // Create pattern grid
        const puzzleContent = document.getElementById("puzzleContent");
        puzzleContent.innerHTML = `
                <div class="pattern-grid">
                    ${puzzle.pattern
                      .map(
                        (num, index) =>
                          `<div class="pattern-cell ${
                            num === "?" ? "empty" : ""
                          }" data-index="${index}">
                            ${num === "?" ? "?" : num}
                        </div>`
                      )
                      .join("")}
                </div>
                <input type="number" class="answer-input" id="answerInput" placeholder="Answer" min="0" max="200" step="0.01">
            `;

        return puzzle;
      }

      function generateLogicPuzzle() {
        const puzzle =
          puzzleDatabase.logic[
            Math.floor(Math.random() * puzzleDatabase.logic.length)
          ];
        document.getElementById("question").textContent = puzzle.question;
        document.getElementById("equation").style.display = "none";

        // Create answer input (text for logic puzzles)
        const puzzleContent = document.getElementById("puzzleContent");
        puzzleContent.innerHTML = `
                <input type="text" class="answer-input" id="answerInput" placeholder="Your answer" style="width: 150px;">
            `;

        return puzzle;
      }

      function newPuzzle() {
        hintsUsed = 0;
        document.getElementById("equation").style.display = "block";

        switch (currentMode) {
          case "equations":
            currentPuzzle = generateEquationPuzzle();
            break;
          case "patterns":
            currentPuzzle = generatePatternPuzzle();
            break;
          case "logic":
            currentPuzzle = generateLogicPuzzle();
            break;
        }

        // Clear feedback
        document.getElementById("feedback").style.display = "none";
      }

      function checkAnswer() {
        const answerInput = document.getElementById("answerInput");
        const userAnswer = answerInput.value.trim();

        let isCorrect = false;

        if (currentMode === "logic") {
          // Case-insensitive comparison for text answers
          isCorrect =
            userAnswer.toLowerCase() ===
            currentPuzzle.answer.toString().toLowerCase();
        } else {
          // Numeric comparison
          isCorrect = parseFloat(userAnswer) === currentPuzzle.answer;
        }

        if (isCorrect) {
          // Correct answer
          const points = 50 - hintsUsed * 10;
          score += points;
          puzzlesSolved++;

          if (puzzlesSolved >= level * 3) {
            level++;
          }

          updateStats();

          document.getElementById(
            "feedback"
          ).textContent = `🎉 Correct! +${points} points`;
          document.getElementById("feedback").className = "feedback correct";
          document.getElementById("feedback").style.display = "block";

          setTimeout(() => {
            newPuzzle();
          }, 2000);
        } else {
          // Incorrect answer
          document.getElementById("feedback").textContent = "😅 Try again!";
          document.getElementById("feedback").className = "feedback incorrect";
          document.getElementById("feedback").style.display = "block";

          setTimeout(() => {
            document.getElementById("feedback").style.display = "none";
          }, 2000);
        }
      }

      function getHint() {
        hintsUsed++;
        const hintElement = document.getElementById("feedback");
        hintElement.textContent = `💡 Hint: ${currentPuzzle.hint}`;
        hintElement.className = "feedback";
        hintElement.style.display = "block";

        setTimeout(() => {
          hintElement.style.display = "none";
        }, 3000);
      }

      function updateStats() {
        document.getElementById("score").textContent = score;
        document.getElementById("level").textContent = level;
        document.getElementById("solved").textContent = puzzlesSolved;
      }

      // Enter key support
      document.addEventListener("keypress", function (e) {
        if (e.key === "Enter") {
          checkAnswer();
        }
      });

      // Initialize game
      newPuzzle();
    </script>
  </body>
</html>
