<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#667eea" />
    <meta name="mobile-web-app-capable" content="yes" />
    <!-- SEO Meta Tags -->
    <title>Free Whack-a-Mole Game for Kids | Tap Animals Game Online | Play It My Way</title>
    <meta name="description" content="Play free whack-a-mole game for kids online! Tap cute animals when they pop up. Choose easy, medium or hard mode. Fun game for children ages 5+. No download!" />
    <meta name="keywords" content="whack a mole game, tap animals game, kids arcade game, whack a mole for kids, animal tapping game, fun games for children, free kids games online, toddler games, preschool games, reaction games kids" />
    <meta name="author" content="Play It My Way" />
    <meta name="robots" content="index, follow, max-image-preview:large" />
    <meta property="og:title" content="Free Whack-a-Mole Game for Kids | Play It My Way" />
    <meta property="og:description" content="Tap cute animals when they appear! Fun game for children. Play free!" />
    <meta property="og:type" content="game" />
    <meta property="og:url" content="https://playitmyway.com/games/whack-a-mole/" />
    <meta property="og:site_name" content="Play It My Way" />
    <link rel="canonical" href="https://playitmyway.com/games/whack-a-mole/" />
    <style>
      * {
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
        user-select: none;
      }

      body {
        font-family: "Comic Sans MS", "Arial Rounded MT Bold", "Arial", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        margin: 0;
        padding: 10px;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        overflow-x: hidden;
      }

      .header {
        text-align: center;
        color: white;
        margin-bottom: 10px;
        z-index: 10;
      }

      .header h1 {
        font-size: clamp(1.5em, 5vw, 2em);
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        margin: 0;
      }

      .header p {
        font-size: clamp(0.9em, 3vw, 1.1em);
        margin: 5px 0 0;
        opacity: 0.9;
      }

      .stats {
        display: flex;
        gap: 20px;
        margin-bottom: 10px;
        color: white;
        font-size: clamp(1em, 3vw, 1.2em);
        font-weight: bold;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        z-index: 10;
      }

      .mode-selector {
        margin-bottom: 10px;
        z-index: 10;
      }

      .mode-btn {
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: clamp(0.85em, 2.5vw, 1em);
        font-weight: bold;
        cursor: pointer;
        margin: 3px;
        transition: transform 0.2s;
      }

      .mode-btn.active {
        background: linear-gradient(45deg, #4ecdc4, #44a08d);
        transform: scale(1.05);
      }

      .timer-bar {
        width: 100%;
        max-width: 400px;
        height: 12px;
        background: rgba(255,255,255,0.3);
        border-radius: 6px;
        margin-bottom: 10px;
        overflow: hidden;
      }

      .timer-fill {
        height: 100%;
        background: linear-gradient(90deg, #4ecdc4, #ff6b6b);
        transition: width 0.1s linear;
        border-radius: 6px;
      }

      .game-area {
        position: relative;
        width: 100%;
        max-width: 380px;
        background: linear-gradient(180deg, #87CEEB 0%, #90EE90 50%, #8B4513 100%);
        border-radius: 15px;
        overflow: hidden;
        border: 4px solid #333;
        padding: 15px;
      }

      .mole-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
      }

      .hole {
        position: relative;
        width: 100%;
        aspect-ratio: 1;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        overflow: hidden;
      }

      .hole-bg {
        position: absolute;
        bottom: 0;
        width: 90%;
        height: 35%;
        background: linear-gradient(180deg, #654321 0%, #3d2817 100%);
        border-radius: 50%;
        box-shadow: inset 0 5px 15px rgba(0,0,0,0.5);
        z-index: 10;
      }

      .animal {
        position: absolute;
        bottom: 20%;
        font-size: clamp(2em, 8vw, 2.8em);
        cursor: pointer;
        transform: translateY(120%);
        transition: transform 0.3s ease-out;
        z-index: 5;
        filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3));
      }

      .animal.visible {
        transform: translateY(0);
      }

      .animal:hover {
        transform: translateY(0) scale(1.1);
      }

      .animal.hit {
        animation: hitAnim 0.3s ease-out;
      }

      @keyframes hitAnim {
        0% { transform: translateY(0) scale(1); }
        50% { transform: translateY(-20px) scale(1.3) rotate(15deg); }
        100% { transform: translateY(100%) scale(0.5); }
      }

      .score-popup {
        position: fixed;
        font-size: 24px;
        font-weight: bold;
        color: #4ecdc4;
        animation: scoreUp 0.8s ease-out forwards;
        pointer-events: none;
        z-index: 100;
      }

      @keyframes scoreUp {
        0% { transform: translateY(0); opacity: 1; }
        100% { transform: translateY(-50px); opacity: 0; }
      }

      .controls {
        display: flex;
        gap: 10px;
        margin-top: 15px;
        z-index: 10;
      }

      .btn {
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        font-size: clamp(1em, 3vw, 1.1em);
        font-weight: bold;
        cursor: pointer;
        transition: transform 0.2s;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
      }

      .btn:hover { transform: scale(1.05); }

      .back-link {
        position: absolute;
        top: 15px;
        left: 15px;
        color: white;
        text-decoration: none;
        font-size: clamp(0.9em, 3vw, 1em);
        background: rgba(255, 255, 255, 0.2);
        padding: 8px 12px;
        border-radius: 20px;
        z-index: 100;
      }

      .back-link:hover { background: rgba(255, 255, 255, 0.3); }

      /* Modal */
      .modal-overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
      }

      .modal-overlay.show { display: flex; }

      .modal {
        background: white;
        border-radius: 20px;
        padding: 30px;
        text-align: center;
        max-width: 350px;
        width: 90%;
        animation: scaleIn 0.3s ease;
        position: relative;
      }

      .modal h2 { font-size: 1.8em; margin-bottom: 10px; color: #333; }
      .modal p { font-size: 1.2em; color: #666; margin: 10px 0; }

      .stars { font-size: 2.5em; margin: 10px 0; }
      .star { color: #ddd; }
      .star.filled { color: #ffd700; }

      .high-score { color: #ff6b6b; font-weight: bold; }

      .modal-btn {
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 25px;
        font-size: 1.1em;
        font-weight: bold;
        cursor: pointer;
        margin: 5px;
      }

      .modal-close {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 1.5em;
        color: #999;
        cursor: pointer;
        line-height: 1;
      }

      .modal-close:hover { color: #333; }

      .confetti {
        position: fixed;
        width: 10px; height: 10px;
        top: -10px;
        z-index: 1001;
        animation: confettiFall 3s linear forwards;
      }

      @keyframes scaleIn {
        from { transform: scale(0.8); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
      }

      @keyframes confettiFall {
        0% { transform: translateY(0) rotate(0deg); opacity: 1; }
        100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
      }

      .start-screen {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.85);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        color: white;
        z-index: 50;
        border-radius: 11px;
        text-align: center;
        padding: 20px;
      }

      .start-screen h2 { font-size: 1.6em; margin-bottom: 15px; }
      .start-screen p { font-size: 1em; margin: 5px 0; line-height: 1.4; }
      .start-screen .animals-preview { font-size: 2em; margin: 15px 0; }

      .message {
        background: rgba(255, 255, 255, 0.9);
        padding: 8px 20px;
        border-radius: 20px;
        margin-bottom: 10px;
        font-size: clamp(1em, 3vw, 1.2em);
        font-weight: bold;
        color: #333;
        z-index: 10;
      }

      .time-display {
        color: white;
        font-size: clamp(1.1em, 3vw, 1.3em);
        font-weight: bold;
        margin-bottom: 5px;
      }

      @media (max-width: 480px) {
        body { padding: 5px; padding-top: 35px; }
        .header { margin-bottom: 5px; }
        .header h1 { font-size: 1.3em; }
        .header p { display: none; }
        .stats { font-size: 0.9em; gap: 15px; margin-bottom: 8px; }
        .game-area { padding: 10px; }
        .mole-grid { gap: 8px; }
        .animal { font-size: 1.8em; }
        .back-link { top: 5px; left: 5px; padding: 5px 8px; font-size: 0.75em; }
        .controls { margin-top: 10px; }
        .btn { padding: 10px 20px; font-size: 0.95em; }
        .mode-btn { padding: 6px 12px; font-size: 0.8em; }
      }
    </style>
  </head>
  <body>
    <a href="../../" class="back-link">‚Üê Back to Games</a>

    <div class="header">
      <h1>üêπ Whack-a-Mole!</h1>
      <p>Tap the animals when they pop up!</p>
    </div>

    <div class="stats">
      <div>Score: <span id="score">0</span></div>
      <div>Best: <span id="best">0</span></div>
    </div>

    <div class="mode-selector">
      <button class="mode-btn active" onclick="setDifficulty('easy')">üê¢ Easy</button>
      <button class="mode-btn" onclick="setDifficulty('medium')">üêá Medium</button>
      <button class="mode-btn" onclick="setDifficulty('hard')">üöÄ Hard</button>
    </div>

    <div class="time-display">‚è±Ô∏è <span id="timeLeft">2:00</span></div>
    <div class="timer-bar"><div class="timer-fill" id="timerFill" style="width: 100%"></div></div>

    <div class="message" id="message">Tap to start! üéÆ</div>

    <div class="game-area" id="gameArea">
      <div class="mole-grid" id="moleGrid"></div>
      <div class="start-screen" id="startScreen">
        <h2>üêπ Whack-a-Mole! üê∞</h2>
        <div class="animals-preview">üêπ üê∞ üê∏ üê±</div>
        <p>Tap the cute animals when they pop up!</p>
        <p>You have 2 minutes - score as many as you can!</p>
        <br>
        <button class="btn" onclick="startGame()">Let's Play!</button>
      </div>
    </div>

    <div class="controls">
      <button class="btn" onclick="startGame()">New Game</button>
    </div>

    <div class="modal-overlay" id="modal" onclick="closeModalOnOverlay(event)">
      <div class="modal">
        <span class="modal-close" onclick="closeModalOnly()">‚úï</span>
        <h2 id="modalTitle">üéâ Time's Up!</h2>
        <div class="stars" id="starRating">
          <span class="star">‚òÖ</span>
          <span class="star">‚òÖ</span>
          <span class="star">‚òÖ</span>
        </div>
        <p>You tapped <span id="finalScore">0</span> animals!</p>
        <p id="highScoreMsg" class="high-score" style="display: none;">üèÜ New High Score!</p>
        <button class="modal-btn" onclick="closeModal()">Play Again</button>
      </div>
    </div>

    <script>
      const AudioContext = window.AudioContext || window.webkitAudioContext;
      let audioCtx = null;

      function initAudio() {
        if (!audioCtx) audioCtx = new AudioContext();
      }

      function playSound(type) {
        initAudio();
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.connect(gain);
        gain.connect(audioCtx.destination);

        if (type === 'hit') {
          osc.frequency.setValueAtTime(600, audioCtx.currentTime);
          osc.frequency.setValueAtTime(800, audioCtx.currentTime + 0.05);
          osc.type = 'sine';
          gain.gain.setValueAtTime(0.12, audioCtx.currentTime);
          gain.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + 0.15);
          osc.start(); osc.stop(audioCtx.currentTime + 0.15);
        } else if (type === 'pop') {
          osc.frequency.setValueAtTime(400, audioCtx.currentTime);
          osc.frequency.setValueAtTime(500, audioCtx.currentTime + 0.05);
          osc.type = 'sine';
          gain.gain.setValueAtTime(0.08, audioCtx.currentTime);
          gain.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
          osc.start(); osc.stop(audioCtx.currentTime + 0.1);
        } else if (type === 'win') {
          [523, 659, 784, 1047].forEach((f, i) => {
            const o = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            o.connect(g); g.connect(audioCtx.destination);
            o.frequency.setValueAtTime(f, audioCtx.currentTime + i * 0.12);
            g.gain.setValueAtTime(0.12, audioCtx.currentTime + i * 0.12);
            g.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + i * 0.12 + 0.2);
            o.start(audioCtx.currentTime + i * 0.12);
            o.stop(audioCtx.currentTime + i * 0.12 + 0.2);
          });
        }
      }

      function createConfetti() {
        const colors = ['#ff6b6b', '#4ecdc4', '#ffd700', '#a8e6cf', '#ff9ff3'];
        for (let i = 0; i < 40; i++) {
          const c = document.createElement('div');
          c.className = 'confetti';
          c.style.left = Math.random() * 100 + 'vw';
          c.style.background = colors[Math.floor(Math.random() * colors.length)];
          c.style.animationDelay = Math.random() * 1.5 + 's';
          document.body.appendChild(c);
          setTimeout(() => c.remove(), 4000);
        }
      }

      const animals = ['üêπ', 'üê∞', 'üê∏', 'üê±', 'üê∂', 'üêª', 'üêº', 'ü¶ä'];
      const messages = [
        'Great job! üåü',
        'Awesome! üéâ',
        'You got it! ‚≠ê',
        'Amazing! üèÜ',
        'Super! üí´',
        'Fantastic! üéä',
        'Wonderful! üåà',
        'Perfect! ‚ú®'
      ];

      // Difficulty settings: [showTime, spawnDelay]
      const difficulties = {
        easy: { showTime: [3000, 4000], spawnDelay: [1500, 2500] },
        medium: { showTime: [2000, 3000], spawnDelay: [1000, 1800] },
        hard: { showTime: [1200, 2000], spawnDelay: [600, 1200] }
      };

      let difficulty = 'easy';
      let score = 0;
      let gameRunning = false;
      let spawnTimeout = null;
      let hideTimeouts = [];
      let timerInterval = null;
      let timeLeft = 120; // 2 minutes in seconds
      const totalTime = 120;
      let best = parseInt(localStorage.getItem('whackamole_best')) || 0;

      const moleGrid = document.getElementById('moleGrid');
      const holes = [];

      function setDifficulty(d) {
        difficulty = d;
        document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
        if (gameRunning) {
          startGame();
        }
      }

      function createGrid() {
        moleGrid.innerHTML = '';
        holes.length = 0;
        
        // 9 holes (3 rows x 3 columns)
        for (let i = 0; i < 9; i++) {
          const hole = document.createElement('div');
          hole.className = 'hole';
          hole.innerHTML = `
            <div class="hole-bg"></div>
            <div class="animal" data-index="${i}">${animals[Math.floor(Math.random() * animals.length)]}</div>
          `;
          
          const animal = hole.querySelector('.animal');
          animal.addEventListener('click', () => hitAnimal(animal, i));
          
          moleGrid.appendChild(hole);
          holes.push({ element: hole, animal: animal, isUp: false });
        }
      }

      function updateDisplay() {
        document.getElementById('score').textContent = score;
        document.getElementById('best').textContent = best;
      }

      function updateTimer() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        document.getElementById('timeLeft').textContent = 
          `${minutes}:${seconds.toString().padStart(2, '0')}`;
        
        const percent = (timeLeft / totalTime) * 100;
        document.getElementById('timerFill').style.width = percent + '%';
      }

      function showMessage(text) {
        document.getElementById('message').textContent = text;
      }

      function hitAnimal(animal, index) {
        if (!gameRunning || !holes[index].isUp) return;
        
        playSound('hit');
        score += 10;
        
        animal.classList.add('hit');
        holes[index].isUp = false;
        
        // Show score popup
        const rect = animal.getBoundingClientRect();
        const popup = document.createElement('div');
        popup.className = 'score-popup';
        popup.textContent = '+10';
        popup.style.left = rect.left + rect.width/2 + 'px';
        popup.style.top = rect.top + 'px';
        document.body.appendChild(popup);
        setTimeout(() => popup.remove(), 800);
        
        showMessage(messages[Math.floor(Math.random() * messages.length)]);
        updateDisplay();
        
        setTimeout(() => {
          animal.classList.remove('hit', 'visible');
          animal.textContent = animals[Math.floor(Math.random() * animals.length)];
        }, 300);
      }

      function getRandomInRange(min, max) {
        return min + Math.random() * (max - min);
      }

      function showRandomAnimal() {
        if (!gameRunning) return;
        
        // Find holes that are not currently showing an animal
        const availableHoles = holes.filter(h => !h.isUp);
        if (availableHoles.length === 0) {
          spawnTimeout = setTimeout(showRandomAnimal, 300);
          return;
        }
        
        const hole = availableHoles[Math.floor(Math.random() * availableHoles.length)];
        const index = holes.indexOf(hole);
        
        hole.isUp = true;
        hole.animal.textContent = animals[Math.floor(Math.random() * animals.length)];
        hole.animal.classList.remove('hit');
        hole.animal.classList.add('visible');
        playSound('pop');
        
        // Hide after a while based on difficulty
        const settings = difficulties[difficulty];
        const hideDelay = getRandomInRange(settings.showTime[0], settings.showTime[1]);
        const hideTimeout = setTimeout(() => {
          if (hole.isUp && gameRunning) {
            hole.animal.classList.remove('visible');
            hole.isUp = false;
          }
        }, hideDelay);
        hideTimeouts.push(hideTimeout);
        
        // Show next animal based on difficulty
        const nextDelay = getRandomInRange(settings.spawnDelay[0], settings.spawnDelay[1]);
        spawnTimeout = setTimeout(showRandomAnimal, nextDelay);
      }

      function startGame() {
        document.getElementById('startScreen').style.display = 'none';
        document.getElementById('modal').classList.remove('show');
        
        // Reset
        score = 0;
        timeLeft = totalTime;
        gameRunning = true;
        
        // Clear any existing timeouts
        clearTimeout(spawnTimeout);
        hideTimeouts.forEach(t => clearTimeout(t));
        hideTimeouts = [];
        clearInterval(timerInterval);
        
        // Reset all holes
        holes.forEach(h => {
          h.isUp = false;
          h.animal.classList.remove('visible', 'hit');
        });
        
        updateDisplay();
        updateTimer();
        showMessage('Tap the animals! üéØ');
        
        // Start timer
        timerInterval = setInterval(() => {
          timeLeft--;
          updateTimer();
          if (timeLeft <= 0) {
            endGame();
          }
        }, 1000);
        
        // Start spawning animals after a short delay
        setTimeout(showRandomAnimal, 800);
      }

      function endGame() {
        gameRunning = false;
        clearTimeout(spawnTimeout);
        hideTimeouts.forEach(t => clearTimeout(t));
        hideTimeouts = [];
        clearInterval(timerInterval);
        
        // Hide all animals
        holes.forEach(h => {
          h.isUp = false;
          h.animal.classList.remove('visible');
        });
        
        const isNewBest = score > best;
        if (isNewBest) {
          best = score;
          localStorage.setItem('whackamole_best', best);
          updateDisplay();
        }
        
        document.getElementById('finalScore').textContent = score;
        document.getElementById('highScoreMsg').style.display = isNewBest ? 'block' : 'none';
        
        const stars = document.querySelectorAll('#starRating .star');
        const starCount = score >= 300 ? 3 : score >= 150 ? 2 : 1;
        stars.forEach((s, i) => s.classList.toggle('filled', i < starCount));
        
        document.getElementById('modal').classList.add('show');
        playSound('win');
        createConfetti();
        
        showMessage('Great game! üéâ');
      }

      function closeModalOnly() {
        document.getElementById('modal').classList.remove('show');
      }

      function closeModalOnOverlay(event) {
        if (event.target === event.currentTarget) {
          closeModalOnly();
        }
      }

      function closeModal() {
        closeModalOnly();
        startGame();
      }

      // Initialize
      createGrid();
      updateDisplay();
      updateTimer();
    </script>
  </body>
</html>
